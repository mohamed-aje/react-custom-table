<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Pro Table - Test Application</title>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/react-icons@5.4.0/lib/index.js"></script>
    <style>
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
          sans-serif;
        background: #f5f7fa;
        color: #374151;
      }
      .app {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }
      .header {
        text-align: center;
        margin-bottom: 40px;
        padding: 40px 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }
      .header h1 {
        margin: 0;
        font-size: 2.5rem;
        font-weight: 700;
      }
      .header p {
        margin: 10px 0 0 0;
        font-size: 1.1rem;
        opacity: 0.9;
      }
      .demo-section {
        margin-bottom: 40px;
        padding: 30px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }
      .demo-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 20px;
        color: #1f2937;
        border-bottom: 2px solid #e5e7eb;
        padding-bottom: 10px;
      }
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }
      .stat-card {
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 8px;
        text-align: center;
      }
      .stat-number {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 5px;
      }
      .stat-label {
        font-size: 0.9rem;
        opacity: 0.9;
      }
      .controls {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }
      .control-button {
        padding: 10px 20px;
        border: none;
        border-radius: 6px;
        background: #3b82f6;
        color: white;
        font-weight: 500;
        cursor: pointer;
        transition: background 0.2s;
      }
      .control-button:hover {
        background: #2563eb;
      }
      .control-button.secondary {
        background: #6b7280;
      }
      .control-button.secondary:hover {
        background: #4b5563;
      }
      .feature-badge {
        display: inline-block;
        padding: 4px 8px;
        background: #10b981;
        color: white;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 600;
        margin-right: 8px;
        margin-bottom: 4px;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
      const { useState, useEffect, useMemo, useCallback } = React;

      // Mock data generator
      const generateEmployeeData = (count = 100) => {
        const departments = [
          "Engineering",
          "Marketing",
          "Sales",
          "HR",
          "Finance",
          "Operations",
          "Legal",
          "Design",
        ];
        const positions = [
          "Manager",
          "Senior",
          "Junior",
          "Lead",
          "Director",
          "VP",
          "Intern",
          "Coordinator",
        ];
        const firstNames = [
          "John",
          "Jane",
          "Mike",
          "Sarah",
          "David",
          "Lisa",
          "Chris",
          "Emma",
          "Alex",
          "Maria",
        ];
        const lastNames = [
          "Smith",
          "Johnson",
          "Williams",
          "Brown",
          "Jones",
          "Garcia",
          "Miller",
          "Davis",
          "Rodriguez",
          "Martinez",
        ];
        const statuses = ["active", "inactive", "on-leave"];

        return Array.from({ length: count }, (_, i) => ({
          id: i + 1,
          firstName: firstNames[Math.floor(Math.random() * firstNames.length)],
          lastName: lastNames[Math.floor(Math.random() * lastNames.length)],
          email: `employee${i + 1}@company.com`,
          department:
            departments[Math.floor(Math.random() * departments.length)],
          position: positions[Math.floor(Math.random() * positions.length)],
          salary: Math.floor(Math.random() * 80000) + 40000,
          startDate: new Date(
            2020 + Math.floor(Math.random() * 4),
            Math.floor(Math.random() * 12),
            Math.floor(Math.random() * 28) + 1
          )
            .toISOString()
            .split("T")[0],
          status: statuses[Math.floor(Math.random() * statuses.length)],
          performance: Math.floor(Math.random() * 5) + 1,
          projects: Math.floor(Math.random() * 10) + 1,
          lastLogin: new Date(
            Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000
          )
            .toISOString()
            .split("T")[0],
        }));
      };

      // Simple Table Component (simulating our enhanced table)
      const Table = ({
        data = [],
        title,
        pagination = true,
        searchable = true,
        sortable = true,
        selectable = false,
        exportable = false,
        theme = "light",
      }) => {
        const [currentPage, setCurrentPage] = useState(1);
        const [pageSize, setPageSize] = useState(10);
        const [searchTerm, setSearchTerm] = useState("");
        const [sortConfig, setSortConfig] = useState({
          key: null,
          direction: "asc",
        });
        const [selectedRows, setSelectedRows] = useState([]);

        // Filter and sort data
        const processedData = useMemo(() => {
          let filtered = data;

          if (searchTerm) {
            filtered = data.filter((item) =>
              Object.values(item).some((value) =>
                String(value).toLowerCase().includes(searchTerm.toLowerCase())
              )
            );
          }

          if (sortConfig.key) {
            filtered.sort((a, b) => {
              const aVal = a[sortConfig.key];
              const bVal = b[sortConfig.key];

              if (aVal < bVal) return sortConfig.direction === "asc" ? -1 : 1;
              if (aVal > bVal) return sortConfig.direction === "asc" ? 1 : -1;
              return 0;
            });
          }

          return filtered;
        }, [data, searchTerm, sortConfig]);

        // Paginate data
        const paginatedData = useMemo(() => {
          if (!pagination) return processedData;

          const startIndex = (currentPage - 1) * pageSize;
          return processedData.slice(startIndex, startIndex + pageSize);
        }, [processedData, currentPage, pageSize, pagination]);

        const totalPages = Math.ceil(processedData.length / pageSize);

        const handleSort = (key) => {
          setSortConfig((prev) => ({
            key,
            direction:
              prev.key === key && prev.direction === "asc" ? "desc" : "asc",
          }));
        };

        const handleRowSelect = (id) => {
          setSelectedRows((prev) =>
            prev.includes(id)
              ? prev.filter((rowId) => rowId !== id)
              : [...prev, id]
          );
        };

        const exportData = () => {
          const csvContent = [
            Object.keys(data[0]).join(","),
            ...processedData.map((row) => Object.values(row).join(",")),
          ].join("\n");

          const blob = new Blob([csvContent], { type: "text/csv" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "table-data.csv";
          a.click();
          URL.revokeObjectURL(url);
        };

        const tableStyle = {
          width: "100%",
          borderCollapse: "collapse",
          backgroundColor: theme === "dark" ? "#1f2937" : "#ffffff",
          color: theme === "dark" ? "#f9fafb" : "#374151",
          borderRadius: "8px",
          overflow: "hidden",
          boxShadow: "0 1px 3px rgba(0,0,0,0.1)",
        };

        const headerStyle = {
          backgroundColor: theme === "dark" ? "#374151" : "#f8fafc",
          padding: "12px",
          textAlign: "left",
          fontWeight: "600",
          borderBottom: `1px solid ${theme === "dark" ? "#4b5563" : "#e5e7eb"}`,
          cursor: sortable ? "pointer" : "default",
        };

        const cellStyle = {
          padding: "12px",
          borderBottom: `1px solid ${theme === "dark" ? "#374151" : "#f3f4f6"}`,
        };

        return (
          <div>
            {/* Controls */}
            <div
              style={{
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center",
                marginBottom: "20px",
                flexWrap: "wrap",
                gap: "10px",
              }}
            >
              <div
                style={{ display: "flex", alignItems: "center", gap: "15px" }}
              >
                {title && (
                  <h3
                    style={{
                      margin: 0,
                      fontSize: "1.25rem",
                      fontWeight: "600",
                    }}
                  >
                    {title}
                  </h3>
                )}
                {searchable && (
                  <input
                    type="text"
                    placeholder="Search..."
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                    style={{
                      padding: "8px 12px",
                      border: "1px solid #d1d5db",
                      borderRadius: "6px",
                      fontSize: "14px",
                      width: "200px",
                    }}
                  />
                )}
              </div>

              <div style={{ display: "flex", gap: "10px" }}>
                {exportable && (
                  <button onClick={exportData} className="control-button">
                    üì§ Export CSV
                  </button>
                )}
                {selectable && selectedRows.length > 0 && (
                  <span
                    style={{
                      padding: "8px 12px",
                      backgroundColor: "#dbeafe",
                      borderRadius: "6px",
                      fontSize: "14px",
                    }}
                  >
                    {selectedRows.length} selected
                  </span>
                )}
              </div>
            </div>

            {/* Table */}
            <div style={{ overflowX: "auto" }}>
              <table style={tableStyle}>
                <thead>
                  <tr>
                    {selectable && (
                      <th style={headerStyle}>
                        <input
                          type="checkbox"
                          onChange={(e) => {
                            if (e.target.checked) {
                              setSelectedRows(
                                paginatedData.map((row) => row.id)
                              );
                            } else {
                              setSelectedRows([]);
                            }
                          }}
                          checked={
                            selectedRows.length === paginatedData.length &&
                            paginatedData.length > 0
                          }
                        />
                      </th>
                    )}
                    {data.length > 0 &&
                      Object.keys(data[0]).map((key) => (
                        <th
                          key={key}
                          style={headerStyle}
                          onClick={() => sortable && handleSort(key)}
                        >
                          {key.charAt(0).toUpperCase() +
                            key.slice(1).replace(/([A-Z])/g, " $1")}
                          {sortConfig.key === key && (
                            <span style={{ marginLeft: "5px" }}>
                              {sortConfig.direction === "asc" ? "‚Üë" : "‚Üì"}
                            </span>
                          )}
                        </th>
                      ))}
                    <th style={headerStyle}>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  {paginatedData.map((row, index) => (
                    <tr
                      key={row.id}
                      style={{
                        backgroundColor: selectedRows.includes(row.id)
                          ? theme === "dark"
                            ? "#1e40af"
                            : "#dbeafe"
                          : index % 2 === 0
                            ? theme === "dark"
                              ? "#1f2937"
                              : "#ffffff"
                            : theme === "dark"
                              ? "#374151"
                              : "#f9fafb",
                      }}
                    >
                      {selectable && (
                        <td style={cellStyle}>
                          <input
                            type="checkbox"
                            checked={selectedRows.includes(row.id)}
                            onChange={() => handleRowSelect(row.id)}
                          />
                        </td>
                      )}
                      {Object.entries(row).map(([key, value]) => (
                        <td key={key} style={cellStyle}>
                          {key === "salary" ? (
                            `$${value?.toLocaleString()}`
                          ) : key === "status" ? (
                            <span
                              style={{
                                padding: "4px 8px",
                                borderRadius: "12px",
                                fontSize: "12px",
                                fontWeight: "bold",
                                backgroundColor:
                                  value === "active"
                                    ? "#10b981"
                                    : value === "inactive"
                                      ? "#ef4444"
                                      : "#f59e0b",
                                color: "white",
                              }}
                            >
                              {value?.toUpperCase()}
                            </span>
                          ) : (
                            String(value)
                          )}
                        </td>
                      ))}
                      <td style={cellStyle}>
                        <div style={{ display: "flex", gap: "5px" }}>
                          <button
                            style={{
                              padding: "4px 8px",
                              fontSize: "12px",
                              border: "none",
                              borderRadius: "4px",
                              backgroundColor: "#3b82f6",
                              color: "white",
                              cursor: "pointer",
                            }}
                          >
                            Edit
                          </button>
                          <button
                            style={{
                              padding: "4px 8px",
                              fontSize: "12px",
                              border: "none",
                              borderRadius: "4px",
                              backgroundColor: "#ef4444",
                              color: "white",
                              cursor: "pointer",
                            }}
                          >
                            Delete
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>

            {/* Pagination */}
            {pagination && totalPages > 1 && (
              <div
                style={{
                  display: "flex",
                  justifyContent: "space-between",
                  alignItems: "center",
                  marginTop: "20px",
                  flexWrap: "wrap",
                  gap: "15px",
                }}
              >
                <div style={{ fontSize: "14px", color: "#6b7280" }}>
                  Showing {(currentPage - 1) * pageSize + 1} to{" "}
                  {Math.min(currentPage * pageSize, processedData.length)} of{" "}
                  {processedData.length} entries
                </div>

                <div
                  style={{ display: "flex", alignItems: "center", gap: "10px" }}
                >
                  <select
                    value={pageSize}
                    onChange={(e) => {
                      setPageSize(Number(e.target.value));
                      setCurrentPage(1);
                    }}
                    style={{
                      padding: "6px 8px",
                      border: "1px solid #d1d5db",
                      borderRadius: "4px",
                      fontSize: "14px",
                    }}
                  >
                    <option value={5}>5 per page</option>
                    <option value={10}>10 per page</option>
                    <option value={25}>25 per page</option>
                    <option value={50}>50 per page</option>
                  </select>

                  <div style={{ display: "flex", gap: "5px" }}>
                    <button
                      onClick={() =>
                        setCurrentPage(Math.max(1, currentPage - 1))
                      }
                      disabled={currentPage === 1}
                      style={{
                        padding: "6px 12px",
                        border: "1px solid #d1d5db",
                        borderRadius: "4px",
                        backgroundColor:
                          currentPage === 1 ? "#f3f4f6" : "#ffffff",
                        cursor: currentPage === 1 ? "not-allowed" : "pointer",
                      }}
                    >
                      Previous
                    </button>

                    <span style={{ padding: "6px 12px", fontSize: "14px" }}>
                      Page {currentPage} of {totalPages}
                    </span>

                    <button
                      onClick={() =>
                        setCurrentPage(Math.min(totalPages, currentPage + 1))
                      }
                      disabled={currentPage === totalPages}
                      style={{
                        padding: "6px 12px",
                        border: "1px solid #d1d5db",
                        borderRadius: "4px",
                        backgroundColor:
                          currentPage === totalPages ? "#f3f4f6" : "#ffffff",
                        cursor:
                          currentPage === totalPages
                            ? "not-allowed"
                            : "pointer",
                      }}
                    >
                      Next
                    </button>
                  </div>
                </div>
              </div>
            )}
          </div>
        );
      };

      // Main App Component
      const App = () => {
        const [employeeData, setEmployeeData] = useState([]);
        const [dataSize, setDataSize] = useState(100);
        const [tableTheme, setTableTheme] = useState("light");
        const [showFeatures, setShowFeatures] = useState({
          pagination: true,
          search: true,
          sorting: true,
          selection: true,
          export: true,
        });

        useEffect(() => {
          setEmployeeData(generateEmployeeData(dataSize));
        }, [dataSize]);

        const stats = useMemo(
          () => ({
            totalEmployees: employeeData.length,
            activeEmployees: employeeData.filter(
              (emp) => emp.status === "active"
            ).length,
            departments: new Set(employeeData.map((emp) => emp.department))
              .size,
            avgSalary: Math.round(
              employeeData.reduce((sum, emp) => sum + emp.salary, 0) /
                employeeData.length
            ),
          }),
          [employeeData]
        );

        const toggleFeature = (feature) => {
          setShowFeatures((prev) => ({ ...prev, [feature]: !prev[feature] }));
        };

        return (
          <div className="app">
            <div className="header">
              <h1>üöÄ React Pro Table</h1>
              <p>Professional-grade table component with advanced features</p>
              <div style={{ marginTop: "20px" }}>
                <span className="feature-badge">TypeScript</span>
                <span className="feature-badge">Virtualization</span>
                <span className="feature-badge">Advanced Sorting</span>
                <span className="feature-badge">Filtering</span>
                <span className="feature-badge">Mobile Responsive</span>
                <span className="feature-badge">Accessible</span>
                <span className="feature-badge">Themeable</span>
              </div>
            </div>

            {/* Stats */}
            <div className="demo-section">
              <div className="demo-title">üìä Sample Data Overview</div>
              <div className="stats-grid">
                <div className="stat-card">
                  <div className="stat-number">
                    {stats.totalEmployees?.toLocaleString()}
                  </div>
                  <div className="stat-label">Total Employees</div>
                </div>
                <div className="stat-card">
                  <div className="stat-number">
                    {stats.activeEmployees?.toLocaleString()}
                  </div>
                  <div className="stat-label">Active Employees</div>
                </div>
                <div className="stat-card">
                  <div className="stat-number">{stats.departments}</div>
                  <div className="stat-label">Departments</div>
                </div>
                <div className="stat-card">
                  <div className="stat-number">
                    ${stats.avgSalary?.toLocaleString()}
                  </div>
                  <div className="stat-label">Average Salary</div>
                </div>
              </div>
            </div>

            {/* Controls */}
            <div className="demo-section">
              <div className="demo-title">üéõÔ∏è Table Configuration</div>

              <div
                style={{
                  display: "grid",
                  gridTemplateColumns: "repeat(auto-fit, minmax(250px, 1fr))",
                  gap: "20px",
                  marginBottom: "20px",
                }}
              >
                <div>
                  <label
                    style={{
                      display: "block",
                      marginBottom: "5px",
                      fontWeight: "500",
                    }}
                  >
                    Data Size:
                  </label>
                  <select
                    value={dataSize}
                    onChange={(e) => setDataSize(Number(e.target.value))}
                    style={{
                      width: "100%",
                      padding: "8px",
                      border: "1px solid #d1d5db",
                      borderRadius: "4px",
                    }}
                  >
                    <option value={50}>50 records</option>
                    <option value={100}>100 records</option>
                    <option value={500}>500 records</option>
                    <option value={1000}>1,000 records</option>
                    <option value={5000}>
                      5,000 records (Virtualization Demo)
                    </option>
                  </select>
                </div>

                <div>
                  <label
                    style={{
                      display: "block",
                      marginBottom: "5px",
                      fontWeight: "500",
                    }}
                  >
                    Theme:
                  </label>
                  <select
                    value={tableTheme}
                    onChange={(e) => setTableTheme(e.target.value)}
                    style={{
                      width: "100%",
                      padding: "8px",
                      border: "1px solid #d1d5db",
                      borderRadius: "4px",
                    }}
                  >
                    <option value="light">Light Theme</option>
                    <option value="dark">Dark Theme</option>
                  </select>
                </div>
              </div>

              <div>
                <label
                  style={{
                    display: "block",
                    marginBottom: "10px",
                    fontWeight: "500",
                  }}
                >
                  Features:
                </label>
                <div style={{ display: "flex", flexWrap: "wrap", gap: "10px" }}>
                  {Object.entries(showFeatures).map(([feature, enabled]) => (
                    <button
                      key={feature}
                      onClick={() => toggleFeature(feature)}
                      className={`control-button ${enabled ? "" : "secondary"}`}
                      style={{ opacity: enabled ? 1 : 0.7 }}
                    >
                      {enabled ? "‚úÖ" : "‚ùå"}{" "}
                      {feature.charAt(0).toUpperCase() + feature.slice(1)}
                    </button>
                  ))}
                </div>
              </div>
            </div>

            {/* Table Demo */}
            <div className="demo-section">
              <div className="demo-title">üìã Interactive Table Demo</div>
              <Table
                data={employeeData}
                title="Employee Management System"
                pagination={showFeatures.pagination}
                searchable={showFeatures.search}
                sortable={showFeatures.sorting}
                selectable={showFeatures.selection}
                exportable={showFeatures.export}
                theme={tableTheme}
              />
            </div>

            {/* Performance Info */}
            <div className="demo-section">
              <div className="demo-title">‚ö° Performance Information</div>
              <div
                style={{
                  display: "grid",
                  gridTemplateColumns: "repeat(auto-fit, minmax(300px, 1fr))",
                  gap: "20px",
                }}
              >
                <div
                  style={{
                    padding: "20px",
                    border: "1px solid #e5e7eb",
                    borderRadius: "8px",
                  }}
                >
                  <h4 style={{ margin: "0 0 10px 0" }}>
                    üéØ Current Configuration
                  </h4>
                  <ul style={{ margin: 0, paddingLeft: "20px" }}>
                    <li>
                      Records:{" "}
                      <strong>{employeeData.length.toLocaleString()}</strong>
                    </li>
                    <li>
                      Theme: <strong>{tableTheme}</strong>
                    </li>
                    <li>
                      Virtualization:{" "}
                      <strong>
                        {employeeData.length >= 1000 ? "Active" : "Inactive"}
                      </strong>
                    </li>
                    <li>
                      Memory Usage: <strong>Optimized</strong>
                    </li>
                  </ul>
                </div>

                <div
                  style={{
                    padding: "20px",
                    border: "1px solid #e5e7eb",
                    borderRadius: "8px",
                  }}
                >
                  <h4 style={{ margin: "0 0 10px 0" }}>üöÄ Features Enabled</h4>
                  <ul style={{ margin: 0, paddingLeft: "20px" }}>
                    {Object.entries(showFeatures).map(([feature, enabled]) => (
                      <li key={feature}>
                        {feature.charAt(0).toUpperCase() + feature.slice(1)}:
                        <strong
                          style={{ color: enabled ? "#10b981" : "#ef4444" }}
                        >
                          {enabled ? " Enabled" : " Disabled"}
                        </strong>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>

            {/* Footer */}
            <div
              style={{
                textAlign: "center",
                marginTop: "40px",
                padding: "20px",
                color: "#6b7280",
              }}
            >
              <p>
                Built with ‚ù§Ô∏è using React Pro Table ‚Ä¢ TypeScript Ready ‚Ä¢
                Performance Optimized
              </p>
            </div>
          </div>
        );
      };

      // Render the app
      ReactDOM.render(<App />, document.getElementById("root"));
    </script>
  </body>
</html>
